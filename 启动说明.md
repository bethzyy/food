# 养生饮食推荐应用 - 启动说明

## 环境变量配置

### 方法1: 使用.env文件(推荐)

项目根目录的`.env`文件已配置好API Key:

```bash
cd C:\D\CAIE_tool\MyAIProduct\food
python server_with_env.py
```

服务器启动时会自动读取`.env`文件中的`ZHIPU_API_KEY`。

### 方法2: 使用系统环境变量

**Windows CMD:**
```cmd
set ZHIPU_API_KEY=your-api-key-here
python server_with_env.py
```

**Windows PowerShell:**
```powershell
$env:ZHIPU_API_KEY="your-api-key-here"
python server_with_env.py
```

**Linux/Mac:**
```bash
export ZHIPU_API_KEY="your-api-key-here"
python server_with_env.py
```

## 验证API Key配置

启动服务器后,访问:
- 主应用: http://localhost:8004
- 测试页面: http://localhost:8004/test_api_key.html

## 重要说明

⚠️ **不要在代码中hardcode API Key!**

所有代码都从环境变量读取API Key,没有hardcoded值。

- ❌ 错误: 在JavaScript/Python文件中写死API Key
- ✅ 正确: 通过环境变量或.env文件配置

## 文件说明

- `.env` - 服务器端环境变量配置(包含API Key)
- `server_with_env.py` - 支持从.env和环境变量读取的HTTP服务器
- `app.js` - 主程序,从`/api/env-api-key`端点获取API Key
- `test_api_key.html` - API Key测试工具(从服务器动态获取)
- `test_zhipu_api.py` - Python测试脚本(从环境变量读取)

## 安全提示

- `.env`文件不要提交到版本控制系统
- 定期更换API Key
- 不要在公开场合分享API Key
