<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>养生饮食推荐</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container" id="app">
        <!-- 头部标题 -->
        <header class="app-header">
            <h1>食疗养生</h1>
            <p class="subtitle">顺应四时 调和阴阳</p>
        </header>

        <!-- 主要内容区 -->
        <main class="main-content">
            <!-- 环境信息综合区 -->
            <section class="section environment-section">
                <h2 class="section-title">🌸 天时地利</h2>

                <!-- 综合信息框 -->
                <div class="env-block">
                    <div class="env-body">
                        <!-- 日期时间位置天气综合行 -->
                        <div class="compact-info-row">
                            <div class="compact-item">
                                <label>黄历</label>
                                <input type="date" id="dateInput" class="compact-input">
                            </div>
                            <div class="compact-item">
                                <label>时辰</label>
                                <input type="time" id="timeInput" class="compact-input">
                            </div>
                            <div class="compact-item">
                                <label>天地</label>
                                <input type="text" id="locationInput" class="compact-input" placeholder="输入地名">
                            </div>
                            <div class="compact-item">
                                <label>天候</label>
                                <select id="weatherSelect" class="compact-select">
                                    <option value="晴">晴</option>
                                    <option value="多云">多云</option>
                                    <option value="阴">阴</option>
                                    <option value="雨">雨</option>
                                    <option value="雪">雪</option>
                                    <option value="雾">雾</option>
                                    <option value="大风">风</option>
                                    <option value="沙尘">尘</option>
                                </select>
                            </div>
                        </div>

                        <!-- 天干地支和节气显示 -->
                        <div class="ganzhi-solar-term-row">
                            <div class="ganzhi-display" id="ganzhiDisplay">
                                正在计算天干地支...
                            </div>
                            <div class="solar-term-alert" id="solarTermAlert">
                                正在识别节气...
                            </div>
                        </div>

                        <!-- 操作按钮 -->
                        <div class="action-buttons">
                            <button id="autoTimeBtn" class="small-btn">🔄 更新</button>
                            <button id="autoLocationBtn" class="small-btn">📍 定位</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 饮食类型选择区 -->
            <section class="section meal-type-section">
                <h2 class="section-title">🍽️ 用膳之时</h2>
                <div class="meal-period">
                    <label class="radio-label">
                        <input type="radio" name="mealPeriod" value="早餐" checked>
                        <span class="radio-text">🌅 晨起</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="mealPeriod" value="午餐">
                        <span class="radio-text">☀️ 日中</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="mealPeriod" value="晚餐">
                        <span class="radio-text">🌙 日暮</span>
                    </label>
                </div>
                <div class="diet-type">
                    <label class="radio-label">
                        <input type="radio" name="dietType" value="日常饮食" checked>
                        <span class="radio-text">🥗 寻常饮食</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="dietType" value="药膳饮食">
                        <span class="radio-text">🏮 药膳调理</span>
                    </label>
                </div>
            </section>

            <!-- 生成推荐按钮 -->
            <section class="section action-section">
                <button id="generateBtn" class="primary-btn">🌟 饮食推荐</button>
            </section>

            <!-- 推荐结果展示区 -->
            <section class="section result-section" id="resultSection" style="display: none;">
                <h2 class="section-title">📜 养生良方</h2>

                <!-- 饮食建议 -->
                <div class="info-card recommendation-card">
                    <h3 class="card-title">🍲 时令佳肴</h3>
                    <div class="card-content" id="recommendationContent">
                        <div class="loading" id="loadingSpinner">
                            <div class="spinner"></div>
                            <p>正在为您开具食疗良方...</p>
                        </div>
                    </div>
                </div>

                <!-- 营养分析 -->
                <div class="info-card nutrition-card" id="nutritionCard" style="display: none;">
                    <h3 class="card-title">📊 营养概览</h3>
                    <div class="card-content" id="nutritionContent"></div>
                    <div class="nutrition-chart">
                        <canvas id="nutritionChart"></canvas>
                    </div>
                </div>
            </section>
        </main>

        <!-- 页脚 -->
        <footer class="app-footer">
            <p>秉承《黄帝内经》养生之道</p>
            <p class="footer-note">由智能大模型开具</p>
        </footer>
    </div>

    <!-- 引入Chart.js用于图表 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
