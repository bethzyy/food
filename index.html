<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>养生饮食推荐</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container" id="app">
        <!-- 头部标题 -->
        <header class="app-header">
            <h1>养生饮食推荐</h1>
            <p class="subtitle">基于中医养生与现代营养学</p>
        </header>

        <!-- 主要内容区 -->
        <main class="main-content">
            <!-- 环境信息综合区 -->
            <section class="section environment-section">
                <h2 class="section-title">🌍 环境信息</h2>

                <!-- 时间和节气 -->
                <div class="env-block">
                    <div class="env-header">
                        <span class="env-icon">📅</span>
                        <span class="env-title">时间与节气</span>
                    </div>
                    <div class="env-body">
                        <div class="datetime-row">
                            <div class="datetime-item">
                                <label>日期</label>
                                <input type="date" id="dateInput" class="styled-input">
                            </div>
                            <div class="datetime-item">
                                <label>时间</label>
                                <input type="time" id="timeInput" class="styled-input">
                            </div>
                        </div>
                        <div class="solar-term-display" id="solarTermDisplay">
                            <span id="currentSolarTerm">正在识别节气...</span>
                        </div>
                        <button id="autoTimeBtn" class="small-btn">🔄 更新时间</button>
                    </div>
                </div>

                <!-- 位置和天气 -->
                <div class="env-block">
                    <div class="env-header">
                        <span class="env-icon">📍</span>
                        <span class="env-title">位置与天气</span>
                    </div>
                    <div class="env-body">
                        <div class="location-weather-row">
                            <div class="location-item">
                                <label>当前位置</label>
                                <div class="location-display" id="locationInfo">
                                    <span class="location-placeholder">点击获取位置</span>
                                </div>
                            </div>
                            <div class="weather-item">
                                <label>天气</label>
                                <select id="weatherSelect" class="styled-select">
                                    <option value="晴">☀️ 晴</option>
                                    <option value="多云">⛅ 多云</option>
                                    <option value="阴">☁️ 阴</option>
                                    <option value="雨">🌧️ 雨</option>
                                    <option value="雪">❄️ 雪</option>
                                    <option value="雾">🌫️ 雾</option>
                                    <option value="大风">💨 大风</option>
                                    <option value="沙尘">🌪️ 沙尘</option>
                                </select>
                            </div>
                        </div>
                        <button id="autoLocationBtn" class="small-btn">📍 自动获取位置</button>
                    </div>
                </div>
            </section>

            <!-- 饮食类型选择区 -->
            <section class="section meal-type-section">
                <h2 class="section-title">🍽️ 餐饮选择</h2>
                <div class="meal-period">
                    <label class="radio-label">
                        <input type="radio" name="mealPeriod" value="早餐" checked>
                        <span class="radio-text">🌅 早餐</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="mealPeriod" value="午餐">
                        <span class="radio-text">☀️ 午餐</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="mealPeriod" value="晚餐">
                        <span class="radio-text">🌙 晚餐</span>
                    </label>
                </div>
                <div class="diet-type">
                    <label class="radio-label">
                        <input type="radio" name="dietType" value="日常饮食" checked>
                        <span class="radio-text">🥗 日常饮食</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="dietType" value="药膳饮食">
                        <span class="radio-text">💊 药膳饮食</span>
                    </label>
                </div>
            </section>

            <!-- 生成推荐按钮 -->
            <section class="section action-section">
                <button id="generateBtn" class="primary-btn">✨ 生成饮食推荐</button>
            </section>

            <!-- 推荐结果展示区 -->
            <section class="section result-section" id="resultSection" style="display: none;">
                <h2 class="section-title">📋 饮食推荐方案</h2>

                <!-- 饮食建议 -->
                <div class="info-card recommendation-card">
                    <h3 class="card-title">🍲 推荐菜品</h3>
                    <div class="card-content" id="recommendationContent">
                        <div class="loading" id="loadingSpinner">
                            <div class="spinner"></div>
                            <p>正在为您生成个性化饮食推荐...</p>
                        </div>
                    </div>
                </div>

                <!-- 营养分析 -->
                <div class="info-card nutrition-card" id="nutritionCard" style="display: none;">
                    <h3 class="card-title">📊 营养分析</h3>
                    <div class="card-content" id="nutritionContent"></div>
                    <div class="nutrition-chart">
                        <canvas id="nutritionChart"></canvas>
                    </div>
                </div>
            </section>
        </main>

        <!-- 页脚 -->
        <footer class="app-footer">
            <p>基于中医养生理论与现代营养学</p>
            <p class="footer-note">由 GLM-4.7 大模型驱动</p>
        </footer>
    </div>

    <!-- 引入Chart.js用于图表 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
